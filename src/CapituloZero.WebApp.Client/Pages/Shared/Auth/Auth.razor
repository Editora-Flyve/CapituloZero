@page "/auth"

@using System.Security.Claims
@using Microsoft.AspNetCore.Authorization

@attribute [Authorize]

<PageTitle>Auth</PageTitle>


<AuthorizeView>
    <Authorized>

        <MudText Class="mb-4">Hello @context.User.Identity?.Name!</MudText>

        <MudText Class="mb-4">Role:</MudText>
        @foreach (var role in @context.User.Claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value))
        {
            <MudText Class="mb-4">- @role</MudText>
        }
    </Authorized>
    <NotAuthorized>
        <MudText>Você não deveria estar aqui</MudText>
    </NotAuthorized>
</AuthorizeView>
